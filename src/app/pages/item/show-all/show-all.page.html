<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button color="primary"></ion-menu-button>
    </ion-buttons>
    <ion-title routerLink="/welcome" mode=ios color="primary" class="ion-text-center">Organi</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div class="ion-text-center">
    <ion-button *ngIf="!allItemsView" color="secondary" (click)="toggleViewAllItems()"> <!-- expand="block" fill="clear" shape="round" -->
      Show all items
    </ion-button>

    <ion-button *ngIf="allItemsView" color="secondary" (click)="toggleViewAllItems()"> <!-- expand="block" fill="clear" shape="round" -->
      Hide all items
    </ion-button>
  </div>

    <div *ngIf="allItemsView">
      <ion-card *ngFor="let item of items, let i = index">
        <ion-card-header (click)="hide(i)" color="secondary">
          <ion-card-title>{{item.description}}</ion-card-title>
        </ion-card-header>
        <ion-card-content *ngIf="currentDisplayIndex==i" class="ion-margin-top">
          
          <ion-item>
            <ion-label>
              <ion-text color="secondary">
                <h2 color="secondary">Home</h2>
              </ion-text>
              <p>{{item.home.description}}</p>
            </ion-label>
          </ion-item>
  
          <ion-item>
            <ion-label>
              <ion-text color="secondary">
                <h2 color="secondary">Room</h2>
              </ion-text>
              <p>{{item.room.description}}</p>
            </ion-label>
          </ion-item>
  
          <ion-item>
            <ion-label>
              <ion-text color="secondary">
                <h2 color="secondary">Container</h2>
              </ion-text>
              <p>{{item.container.description}}</p>
            </ion-label>
          </ion-item>
  
          <ion-item>
            <ion-label>
              <ion-text color="secondary">
                <h2 color="secondary">Compartment</h2>
              </ion-text>
              <p>{{item.compartment.row}}-{{item.compartment.column}}</p>
            </ion-label>
          </ion-item>
  
          <div *ngIf="detailsActivated">
            <ion-item *ngIf="item.color">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Color</h2>
                </ion-text>
                <p>{{item.color}}</p>
              </ion-label>
            </ion-item>
  
            <ion-item *ngIf="item.brand">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Brand</h2>
                </ion-text>
                <p>{{item.brand}}</p>
              </ion-label>
            </ion-item>
  
            <ion-item *ngIf="item.model">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Model</h2>
                </ion-text>
                <p>{{item.model}}</p>
              </ion-label>
            </ion-item>
  
            <ion-item *ngIf="item.group">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Group</h2>
                </ion-text>
                <p>{{item.group}}</p>
              </ion-label>
            </ion-item>
  
            <ion-item *ngIf="item.price">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Price</h2>
                </ion-text>
                <p>{{item.price}}</p>
              </ion-label>
            </ion-item>
  
            <ion-item *ngIf="item.store_link">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Store link</h2>
                </ion-text>
                <p>{{item.store_link}}</p>
              </ion-label>
            </ion-item>
  
            <ion-item *ngIf="item.serial_number">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Serial number</h2>
                </ion-text>
                <p>{{item.serial_number}}</p>
              </ion-label>
            </ion-item>
  
            <ion-item *ngIf="item.purchase_date">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Purchase date</h2>
                </ion-text>
                <p>{{item.purchase_date.$date | date}}</p>
              </ion-label>
            </ion-item>
  
            <ion-item *ngIf="item.creation_date">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Creation date</h2>
                </ion-text>
                <p>{{item.creation_date.$date | date}}</p>
              </ion-label>
            </ion-item>
  
            <ion-item *ngIf="item.warranty_years">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Warranty years</h2>
                </ion-text>
                <p>{{item.warranty_years}}</p>
              </ion-label>
            </ion-item>
  
            <!-- <ion-item *ngIf="item.package" (click)="showItemPackage(item.package.$oid)">
              <ion-label>
                <ion-text color="secondary">
                  <h2 color="secondary">Package <ion-icon name="cube-outline" class="ion-justify-content-center"></ion-icon></h2>
                </ion-text>
                <p>View package</p>
              </ion-label>
            </ion-item> -->
          </div>
  
          <ion-button *ngIf="!detailsActivated" (click)="showHideDetails()" expand="block" fill="clear" shape="round">
            Show details
          </ion-button>
  
          <ion-button *ngIf="detailsActivated" (click)="showHideDetails()" expand="block" fill="clear" shape="round">
            Hide details
          </ion-button>
  
        </ion-card-content>
      </ion-card>
    </div>
  
    <div *ngIf="items.length == 0 && allItemsView">
      <ion-card>
        <ion-card-header color="secondary">
          <ion-card-title>No items exist</ion-card-title>
        </ion-card-header>
        <ion-card-content class="ion-margin-top ion-text-center">
          <ion-label>You can create one by clicking the following button</ion-label>
          <ion-button class="ion-margin-top" routerLink="/create">
            Create item
          </ion-button>
        </ion-card-content>
      </ion-card>
    </div>

</ion-content>
